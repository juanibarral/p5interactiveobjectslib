<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="P5 Interactive Objects Library : Simple library over processing to create interactive objects" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>P5 Visual Analytics Library: Point</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/juanibarral/p5visualanalyticslibrary">View on GitHub</a>

          <h1 id="project_title">P5 Interactive Objects Library</h1>
          <h2 id="project_tagline">Pickeable Point</h2>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>Pickeable Point</h3>

<p>It is a point with a feedback when the mouse is over it. The feedback can be overriden by the user. By default, the feedback is that the point grows in size when the mouse is over it.
  A point also can render some text when selected. 
  <br> if necessary a point also can send a message to its listeners when is selected.
</p>


<h4>Point with listeners</h4>

<p>

<pre>
<code>
import java.awt.Color;
import processing.core.PApplet;
import util.PickeableObjectEvent;
import util.PickeableObjectListener;
import util.VAPoint;

public class PointExample extends PApplet implements PickeableObjectListener{

  private static final long serialVersionUID = 1L;
	private VAPoint point;
	
	public void setup()
	{
		double data = 3.2564;
		point = new VAPoint(250, 250, this);
		point.setUserData(data);
		point.setText("Data: " + data, null, VAPoint.DEFAULT_TEXT_SIZE);
		point.renderText(true);
		point.addListener(this);
		point.setBackgroundColor(Color.RED.getRGB());
		point.renderBackground(true);
		size(500, 500);
	}
	
	public void draw()
	{
		if(point.mouseIsOverFeedback())
		{
			background(Color.white.getRGB());
		}
		point.drawObject();
	}

	@Override
	public void eventTriggered(PickeableObjectEvent event){
		System.out.println("message from " + event.getSource().getClass().getName() + " id: " +  event.getSource().getId() + " event: " + event.getEventType());
	}
}
</code>
</pre>

</p>

<h4>Change the visual feedback</h4>
<p>
	If you want to change the visual feedback of the point, you can extend the VAPoint class and override the methods in charge of drawing: <code>drawUnselectedState()</code> and <code>drawSelectedState()</code>
	<br> Example:
	<pre>
<code>
import processing.core.PApplet;
import util.VAPoint;

public class MyPoint extends VAPoint {

	public MyPoint(int posX, int posY, PApplet mainApplet) {
		super(posX, posY, mainApplet);
	}
	@Override
	protected void drawUnselectedState() {
		mainApplet.rect((float)posX, (float)posY, size, size);
	}

	@Override
	protected void drawSelectedState() {

		mainApplet.triangle((float)posX, (float)posY, (float)posX + size, (float)posY, (float)posX + (size/2), (float)posY - size);
	}
}		
</code>
	</pre>
	In this case, the selected state will render a triangle and the unselected state a rectangle.
</p>

<h4>Multiple points</h4>
<p>
	To draw multiple points you just have to use the PickeableObjectArray class. This class will render the points as necessary
	<br> Example:
	<pre>
<code>
import java.awt.Color;
import processing.core.PApplet;
import util.PickeableObjectArray;
import util.PickeableObjectEvent;
import util.PickeableObjectListener;
import util.VAPoint;

public class MultiplePointsExample extends PApplet implements PickeableObjectListener{

	private static final long serialVersionUID = 1L;
	private PickeableObjectArray array;

	public void setup()
	{
		int sizeX = 500;
		int sizeY = 500;
		size(sizeX, sizeY);	
		int numberOfPoints = 100;
		array = new PickeableObjectArray(this);
		for(int i = 0; i < numberOfPoints; i ++)
		{
			VAPoint point = new VAPoint((int)random(0, 500), (int)random(0,500), this);
			point.setId(i);
			point.addListener(this);
			point.setUserData(i);
			point.setText(i + "", null, VAPoint.DEFAULT_TEXT_SIZE);
			point.renderText(true);
			array.add(point);
		}
	}

	public void draw()
	{
		array.draw(Color.WHITE.getRGB());
	}

	@Override
	public void eventTriggered(PickeableObjectEvent event){
		System.out.println("message from " + event.getSource().getClass().getName() + " id: " +  event.getSource().getId() + " event: " + event.getEventType());
	}
}			
</code>
	</pre>
	In this example we are going to draw 100 point in a random position. Each of the points has an identifier and will send an event when its selected.
</p>

<h3>Support or Contact</h3>

<p><a href="mailto:juanibarral@gmail.com">Juan Camilo IBARRA LOPEZ</a></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">P5visualanalyticslibrary maintained by <a href="https://github.com/juanibarral">juanibarral</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
